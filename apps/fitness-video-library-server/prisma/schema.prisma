datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Video {
  createdAt           DateTime           @default(now())
  description         String?
  duration            Int?
  id                  String             @id @default(cuid())
  subscriptionLevel   SubscriptionLevel? @relation(fields: [subscriptionLevelId], references: [id])
  subscriptionLevelId String?
  title               String?
  updatedAt           DateTime           @updatedAt
  url                 String?
}

model Subscription {
  createdAt           DateTime           @default(now())
  endDate             DateTime?
  id                  String             @id @default(cuid())
  startDate           DateTime?
  subscriptionLevel   SubscriptionLevel? @relation(fields: [subscriptionLevelId], references: [id])
  subscriptionLevelId String?
  updatedAt           DateTime           @updatedAt
  user                User?              @relation(fields: [userId], references: [id])
  userId              String?
}

model SubscriptionLevel {
  createdAt     DateTime       @default(now())
  description   String?
  id            String         @id @default(cuid())
  name          String?
  subscriptions Subscription[]
  updatedAt     DateTime       @updatedAt
  videos        Video[]
}

model User {
  createdAt     DateTime       @default(now())
  email         String?        @unique
  firstName     String?
  id            String         @id @default(cuid())
  lastName      String?
  password      String
  roles         Json
  subscriptions Subscription[]
  updatedAt     DateTime       @updatedAt
  username      String         @unique
}
